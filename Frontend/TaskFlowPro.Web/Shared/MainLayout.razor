@using TaskFlowPro.Web.Services
@using TaskFlowPro.Web.Components.Layout
@using TaskFlowPro.Web.Components.UI
@inherits MainLayoutBase

<PageTitle>TaskFlow Pro</PageTitle>

<div class="min-h-screen flex flex-col bg-gradient-to-br from-primary/3 via-background to-accent/3 relative overflow-hidden">
    <!-- Animated background elements -->
    <div class="absolute inset-0 pointer-events-none">
        <div class="floating-element floating-element-1"></div>
        <div class="floating-element floating-element-2"></div>
        <div class="floating-element floating-element-3"></div>
        <div class="floating-element floating-element-4"></div>
    </div>

    @if (UIState.CurrentUser != null)
    {
        <Header />
    }

    <main class="flex-1 container mx-auto px-4 py-8 relative z-10">
        <div class="page-transition">
            @Body
        </div>
    </main>

    @if (UIState.CurrentUser != null)
    {
        <Footer />
    }

    <!-- Loading Overlay -->
    @if (UIState.IsLoading)
    {
        <LoadingSpinner ShowOverlay="true"
                       Message="Loading..."
                       Size="LoadingSpinner.LoadingSize.Large" />
    }

    <!-- Notifications -->
    <NotificationToast />
</div>


