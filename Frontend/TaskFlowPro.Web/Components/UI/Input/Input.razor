@namespace TaskFlowPro.Web.Components.UI
@inherits InputBase

<div class="@GetContainerClasses()">
    @if (!string.IsNullOrEmpty(Label))
    {
        <label for="@Id" class="@GetLabelClasses()">
            @Label
            @if (IsRequired)
            {
                <span class="text-red-500 ml-1">*</span>
            }
        </label>
    }
    
    <div class="relative">
        @if (!string.IsNullOrEmpty(LeftIcon))
        {
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                <i class="@LeftIcon text-muted-foreground"></i>
            </div>
        }
        
        <input id="@Id"
               type="@Type"
               class="@GetInputClasses()"
               placeholder="@Placeholder"
               value="@Value"
               disabled="@IsDisabled"
               readonly="@IsReadOnly"
               @oninput="OnValueChanged"
               @onfocus="OnFocus"
               @onblur="OnBlur"
               @attributes="AdditionalAttributes" />
        
        @if (!string.IsNullOrEmpty(RightIcon))
        {
            <div class="absolute inset-y-0 right-0 pr-3 flex items-center">
                <i class="@RightIcon text-muted-foreground cursor-pointer hover:text-foreground transition-colors duration-200" @onclick="OnRightIconClick"></i>
            </div>
        }
    </div>
    
    @if (!string.IsNullOrEmpty(HelperText))
    {
        <p class="mt-1 text-sm text-muted-foreground">@HelperText</p>
    }
    
    @if (!string.IsNullOrEmpty(ErrorMessage))
    {
        <p class="mt-1 text-sm text-red-600 animate-fadeInUp">
            <i class="fas fa-exclamation-circle mr-1"></i>
            @ErrorMessage
        </p>
    }
</div>


